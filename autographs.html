<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalog - Star Wars Memorabilia Gallery</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.min.css">
    <link rel="stylesheet" href="css/styles.css">

    <style>
        #toolbar {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <header class="d-flex align-items-center justify-content-center py-4">
        <img src="images/GeorgiaJedi-logo-256.jpg" alt="GeorgiaJedi Logo" class="logo mr-3">
        <h1 class="mx-auto">Star Wars Autograph Catalog</h1>
    </header>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">GeorgiaJedi</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item active"><a class="nav-link" href="autographs.html">Autographs</a></li>
                <li class="nav-item"><a class="nav-link" href="collectibles.html">Collectibles</a></li>
                <li class="nav-item"><a class="nav-link" href="add-item.html">Add Item</a></li>
            </ul>
        </div>
    </nav>

    <main class="container my-5">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.29.0/tableExport.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.29.0/libs/jsPDF/jspdf.umd.min.js"></script>
        <script src="js/script.js"></script>

        <table id="catalog-table" class="table table-bordered"
        data-toggle="table"
        data-url="data/autographs.json"
        data-search="true"
        data-pagination="true"
        data-page-list="[5, 10, 25, 50]"
        data-page-size="5"
        data-show-columns="true"
        data-show-footer="true"
        data-detail-view="false"
        data-detail-formatter="detailFormatter" 
        data-row-style="rowStyle"
        >
            <thead>
                <tr>
                    <th data-field="image" data-formatter="imageFormatter" data-width=130>Image</th>
                    <th data-field="id" data-width=10 data-sortable="true">ID</th>
                    <th data-field="acquired" data-width=120 data-sortable="true">Acquired</th>
                    <th data-field="name/brand" data-width=150 data-sortable="true">Title</th>
                    <th data-field="franchise" data-width=150 data-sortable="true">Franchise</th>
                    <th data-field="description" data-formatter="descFormatter" data-width=300 data-sortable="true">Description</th>
                    <th data-field="size/model#" data-width=50>Size</th>
                    <th data-field="source" data-width=120 data-sortable="true">Source</th>
                    <th data-field="personalized" data-width=10>Custom</th>
                    <th data-field="serialnumber" data-width=100>Serial#</th>
                    <th data-field="original_cost" data-formatter="currencyFormatter" data-width="100" data-sortable="true" data-footer-formatter="originalCostFooter">Original Cost</th>
                    <th data-field="current_value" data-formatter="currencyFormatter" data-width="100" data-sortable="true" data-footer-formatter="currentValueFooter">Current Value</th>
                    <th data-field="is_verified" data-card-visible="false" data-width=10>Is Verified</th>
                    <th data-field="edit" data-formatter="editFormatter" data-width=100>Edit</th> <!-- New Edit column -->
                </tr>
            </thead>
        </table>
    </main>

    <footer class="text-center py-4">
        <p>&copy; 2024 GeorgiaJedi. All rights reserved.</p>
    </footer>

    <script>
        $(function() {
            var $table = $('#catalog-table');

            // Initialize the table with checkbox column
            $table.bootstrapTable();

            // Export selected rows functionality
            $('#exportButton').on('click', function () {
                var selectedRows = $table.bootstrapTable('getSelections');
                if (selectedRows.length > 0) {
                    // Use tableExport to export the selected rows
                    $table.tableExport({
                        type: 'csv',
                        escape: false,
                        fileName: 'selected_characters'
                    });
                } else {
                    alert('Please select at least one row to export.');
                }
            });
        });
    </script>


</body>
</html>
